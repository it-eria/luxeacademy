$(function(c){var e=document.getElementById("myModal"),s=document.querySelectorAll(".imgZoom"),i=document.getElementById("img01"),a=document.getElementById("caption");Array.from(s,function(s){s.onclick=function(){e.style.display="block",i.src=this.src,a.innerHTML=this.alt}}),document.getElementsByClassName("close")[0].onclick=function(){e.style.display="none"};var o=c(".nacc li.active > div > .comment-parent").length,n=3;c(".nacc li.active > div > .comment-parent:lt("+n+")").show(),c("#loadMore").click(function(){c(".nacc li.active > div > .comment-parent:lt("+(n=n+5<=o?n+5:o)+")").show()}),c(document).on("click",".naccs .menu div",function(){var s=c(this).index();if(!c(this).is("active")){c(".naccs .menu div").removeClass("active"),c(".naccs ul li").removeClass("active"),c(this).addClass("active"),c(".naccs ul").find("li:eq("+s+")").addClass("active");var e=c(".naccs ul").find("li:eq("+s+")").innerHeight();c(".naccs ul").height(e+"px")}var i=c(".nacc li.active > div > .comment-parent").length,a=3;c(".nacc li.active > div > .comment-parent:lt("+a+")").show(),c("#loadMore").click(function(){c(".nacc li.active > div > .comment-parent:lt("+(a=a+5<=i?a+5:i)+")").show()})}),c(window).width()<992&&c(document).on("click",".naccs .menu div",function(){c("html, body").animate({scrollTop:c(c(this).attr("data-scroll")).offset().top},500,"linear")}),c(window).on("resize",function(){992<c(window).width()&&(c(".bl-post:first-child").removeClass("col-lg-4").addClass("col-8"),c(".bl-post:first-child").css({height:2*c(".bl-post:last-child").height()+24+"px"}))}),992<c(window).width()&&(c(".bl-post:first-child").removeClass("col-lg-4").addClass("col-8"),c(".bl-post:first-child").css({height:2*c(".bl-post:last-child").height()+24+"px"})),c("#procent-progress").prepend(c(".progress-main").attr("value")),c(".mask").css({height:c(".program-item").height()-c(".h2-program-title").height()+"px"}),c(".fall-effect").mouseenter(function(){c(this).find(".mask").css({top:c(".h2-program-title").height()+"px"})}).mouseleave(function(){c(this).find(".mask").css({top:"0"})}),c(".nav_wrapper").css({"margin-top":c(".header-info-line").height()+20+"px"}),c(window).on("resize",function(){c(".nav_wrapper").css({"margin-top":c(".header-info-line").height()+20+"px"})}),c("#fix-menu-padding").css({"padding-bottom":2*c(".nav_wrapper").height()+c(".header-info-line").height()-10+"px"}),c(window).width()<768&&c("#fix-menu-padding").css({"padding-bottom":2*c(".nav_wrapper").height()+"px"}),c("ul li:has(ul)").addClass("has-submenu"),c("ul li ul").addClass("sub-menu"),c("ul.dropdown li").hover(function(){c(this).addClass("hover")},function(){c(this).removeClass("hover")});var l=c("#menu"),t=c("#spinner-form"),r=c("#search"),d=c(".search_box"),p=c(".has-submenu > a");t.click(function(s){t.toggleClass("active"),l.toggleClass("active"),r.hasClass("active")&&c(".menu.active").css("padding-top","50px")}),r.click(function(s){s.preventDefault(),d.toggleClass("active")}),p.click(function(s){s.preventDefault(),c(this).toggleClass("active").next("ul").toggleClass("active")}),c("ul li:has(ul)"),c(function(){var e=c(document).scrollTop(),i=c(".nav_wrapper").outerHeight();c(window).scroll(function(){var s=c(document).scrollTop();c(document).scrollTop(),c(".nav_wrapper").css("position","fixed"),i<s?c(".nav_wrapper").addClass("scroll"):c(".nav_wrapper").removeClass("scroll"),e<s?c(".nav_wrapper").removeClass("no-scroll"):c(".nav_wrapper").addClass("no-scroll"),e=c(document).scrollTop()})}),c(".slider-wrap").slick({dots:!1,infinite:!0,speed:700,fade:!0,arrows:!0,autoplay:!0,nextArrow:'<img class="slick-next slick-arrow" src="assets/img/right-arrow.png" />',prevArrow:'<img class="slick-prev slick-arrow" src="assets/img/left-arrow.png" />',cssEase:"linear",responsive:[{breakpoint:768,settings:{arrows:!1}}]});var h={dots:!1,arrows:!1,autoplay:!1,infinite:!0,speed:1e3,slidesToShow:1,centerMode:!0,focusOnSelect:!0};c(window).width()<992?c(".all-posts-container").hasClass("slick-slider")||c(".all-posts-container").slick(h):c(".all-posts-container").hasClass("slick-slider")&&c(".all-posts-container").slick("unslick"),c(window).width()<992?c(".courses-wrapper").hasClass("slick-slider")||c(".courses-wrapper").slick(h):c(".courses-wrapper").hasClass("slick-slider")&&c(".courses-wrapper").slick("unslick"),c(window).width()<992?c(".all-posts-container").hasClass("slick-slider")||c(".all-posts-container").slick(h):c(".all-posts-container").hasClass("slick-slider")&&c(".all-posts-container").slick("unslick"),c(".courses-wrapper").hasClass("unclick-slider-event")&&c(".courses-wrapper").hasClass("slick-slider")&&c(".courses-wrapper").slick("unslick"),c(window).width()<992?c(".programs-wrapper").hasClass("slick-slider")||c(".programs-wrapper").slick(h):c(".programs-wrapper").hasClass("slick-slider")&&c(".programs-wrapper").slick("unslick"),c(window).width()<992?c(".recent-slider-mob").hasClass("slick-slider")||c(".recent-slider-mob").slick(h):c(".recent-slider-mob").hasClass("slick-slider")&&c(".recent-slider-mob").slick("unslick");var m,u,v=(jQuery,m=c(".js-accordion").find(".js-accordion-header"),c(".js-accordion-item"),u={speed:400,oneOpen:!1},{init:function(s){m.on("click",function(){v.toggle(c(this))}),c.extend(u,s),u.oneOpen&&1<c(".js-accordion-item.active").length&&c(".js-accordion-item.active:not(:first)").removeClass("active"),c(".js-accordion-item.active").find("> .js-accordion-body").show()},toggle:function(s){u.oneOpen&&s[0]!=s.closest(".js-accordion").find("> .js-accordion-item.active > .js-accordion-header")[0]&&s.closest(".js-accordion").find("> .js-accordion-item").removeClass("active").find(".js-accordion-body").slideUp(),s.closest(".js-accordion-item").toggleClass("active"),s.next().stop().slideToggle(u.speed)}});c(document).ready(function(){v.init({speed:300,oneOpen:!0})}),AOS.init()})(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkIiwibW9kYWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW1nIiwicXVlcnlTZWxlY3RvckFsbCIsIm1vZGFsSW1nIiwiY2FwdGlvblRleHQiLCJBcnJheSIsImZyb20iLCJpdGVtIiwib25jbGljayIsInN0eWxlIiwiZGlzcGxheSIsInNyYyIsInRoaXMiLCJpbm5lckhUTUwiLCJhbHQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwic2l6ZV9saSIsImxlbmd0aCIsIngiLCJzaG93IiwiY2xpY2siLCJvbiIsIm51bWJlckluZGV4IiwiaW5kZXgiLCJpcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJmaW5kIiwibGlzdEl0ZW1IZWlnaHQiLCJpbm5lckhlaWdodCIsImhlaWdodCIsIndpbmRvdyIsIndpZHRoIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImF0dHIiLCJvZmZzZXQiLCJ0b3AiLCJjc3MiLCJwcmVwZW5kIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJtYXJnaW4tdG9wIiwicGFkZGluZy1ib3R0b20iLCJob3ZlciIsIiRtZW51IiwiJG1lbnVsaW5rIiwiJHNlYXJjaCIsIiRzZWFyY2hfYm94IiwiJG1lbnVUcmlnZ2VyIiwiZSIsInRvZ2dsZUNsYXNzIiwiaGFzQ2xhc3MiLCJwcmV2ZW50RGVmYXVsdCIsIm5leHQiLCJ0Iiwib3V0ZXJIZWlnaHQiLCJzY3JvbGwiLCJuIiwic2xpY2siLCJkb3RzIiwiaW5maW5pdGUiLCJzcGVlZCIsImZhZGUiLCJhcnJvd3MiLCJhdXRvcGxheSIsIm5leHRBcnJvdyIsInByZXZBcnJvdyIsImNzc0Vhc2UiLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwic2xpY2tQYXJhbWV0ZXJzIiwic2xpZGVzVG9TaG93IiwiY2VudGVyTW9kZSIsImZvY3VzT25TZWxlY3QiLCIkYWNjb3JkaW9uX2hlYWRlciIsImFjY29yZGlvbiIsImpRdWVyeSIsIm9uZU9wZW4iLCJpbml0IiwiJHNldHRpbmdzIiwidG9nZ2xlIiwiZXh0ZW5kIiwiJHRoaXMiLCJjbG9zZXN0Iiwic2xpZGVVcCIsInN0b3AiLCJzbGlkZVRvZ2dsZSIsInJlYWR5IiwiQU9TIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRSxTQUFVQSxHQUNSLElBQUlDLEVBQVFDLFNBQVNDLGVBQWUsV0FFaENDLEVBQU1GLFNBQVNHLGlCQUFpQixZQUNoQ0MsRUFBV0osU0FBU0MsZUFBZSxTQUNuQ0ksRUFBY0wsU0FBU0MsZUFBZSxXQUUxQ0ssTUFBTUMsS0FBS0wsRUFBSyxTQUFTTSxHQUNyQkEsRUFBS0MsUUFBVSxXQUNYVixFQUFNVyxNQUFNQyxRQUFVLFFBQ3RCUCxFQUFTUSxJQUFNQyxLQUFLRCxJQUNwQlAsRUFBWVMsVUFBWUQsS0FBS0UsT0FJMUJmLFNBQVNnQix1QkFBdUIsU0FBUyxHQUUvQ1AsUUFBVSxXQUNYVixFQUFNVyxNQUFNQyxRQUFVLFFBRzFCLElBQUlNLEVBQVVuQixFQUFFLDJDQUEyQ29CLE9BQ3ZEQyxFQUFFLEVBQ05yQixFQUFFLDhDQUE4Q3FCLEVBQUUsS0FBS0MsT0FDdkR0QixFQUFFLGFBQWF1QixNQUFNLFdBRWpCdkIsRUFBRSwrQ0FERnFCLEVBQUlBLEVBQUUsR0FBS0YsRUFBV0UsRUFBRSxFQUFJRixHQUNzQixLQUFLRyxTQU0vRHRCLEVBQUVFLFVBQVVzQixHQUFHLFFBQVMsbUJBQW9CLFdBQzNDLElBQUlDLEVBQWN6QixFQUFFZSxNQUFNVyxRQUMxQixJQUFLMUIsRUFBRWUsTUFBTVksR0FBRyxVQUFXLENBQzFCM0IsRUFBRSxvQkFBb0I0QixZQUFZLFVBQ2xDNUIsRUFBRSxnQkFBZ0I0QixZQUFZLFVBRTlCNUIsRUFBRWUsTUFBTWMsU0FBUyxVQUNqQjdCLEVBQUUsYUFBYThCLEtBQUssU0FBV0wsRUFBYyxLQUFLSSxTQUFTLFVBRTNELElBQUlFLEVBQWlCL0IsRUFBRSxhQUNyQjhCLEtBQUssU0FBV0wsRUFBYyxLQUM5Qk8sY0FDRmhDLEVBQUUsYUFBYWlD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TEYsWUFBWSxVQUNaRSxLQUFLLHNCQUNMMkQsVUFHVkYsRUFBTUMsUUFBUSxzQkFBc0JsQyxZQUFZLFVBQ2hEaUMsRUFBTTlCLE9BQU9pQyxPQUFPQyxZQUFZakIsRUFBU1QsVUFLakRqRSxFQUFFRSxVQUFVMEYsTUFBTSxXQUNkWixFQUFVRyxLQUFLLENBQUVsQixNQUFPLElBQUtpQixTQUFTLE1BSTFDVyxJQUFJVixRQTVUSm5GLENBbVVHaUYiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24gKCQpIHtcclxuICAgIHZhciBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteU1vZGFsJyk7XHJcblxyXG4gICAgdmFyIGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbWdab29tJyk7XHJcbiAgICB2YXIgbW9kYWxJbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltZzAxXCIpO1xyXG4gICAgdmFyIGNhcHRpb25UZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXB0aW9uXCIpO1xyXG4gICAgXHJcbiAgICBBcnJheS5mcm9tKGltZywgZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgIGl0ZW0ub25jbGljayA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgIG1vZGFsSW1nLnNyYyA9IHRoaXMuc3JjO1xyXG4gICAgICAgICAgICBjYXB0aW9uVGV4dC5pbm5lckhUTUwgPSB0aGlzLmFsdDtcclxuICAgICAgICB9XHJcbiAgICB9KSBcclxuICAgIFxyXG4gICAgdmFyIHNwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2xvc2VcIilbMF07XHJcbiAgICBcclxuICAgIHNwYW4ub25jbGljayA9IGZ1bmN0aW9uKCkgeyBcclxuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNpemVfbGkgPSAkKFwiLm5hY2MgbGkuYWN0aXZlID4gZGl2ID4gLmNvbW1lbnQtcGFyZW50XCIpLmxlbmd0aDtcclxuICAgIHZhciB4PTM7XHJcbiAgICAkKCcubmFjYyBsaS5hY3RpdmUgPiBkaXYgPiAuY29tbWVudC1wYXJlbnQ6bHQoJyt4KycpJykuc2hvdygpO1xyXG4gICAgJCgnI2xvYWRNb3JlJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHg9ICh4KzUgPD0gc2l6ZV9saSkgPyB4KzUgOiBzaXplX2xpO1xyXG4gICAgICAgICQoJy5uYWNjIGxpLmFjdGl2ZSA+IGRpdiA+IC5jb21tZW50LXBhcmVudDpsdCgnK3grJyknKS5zaG93KCk7ICAgICAgXHJcbiAgICAgICAgaWYoeCA9PSBzaXplX2xpKXtcclxuICAgICAgICAgICAgLy8gICQoJyNsb2FkTW9yZScpLmhpZGUoKTtcclxuICAgICAgICB9ICAgIFxyXG4gICAgfSk7XHJcblxyXG4kKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLm5hY2NzIC5tZW51IGRpdlwiLCBmdW5jdGlvbigpIHtcclxuXHR2YXIgbnVtYmVySW5kZXggPSAkKHRoaXMpLmluZGV4KCk7XHJcblx0aWYgKCEkKHRoaXMpLmlzKFwiYWN0aXZlXCIpKSB7XHJcblx0XHQkKFwiLm5hY2NzIC5tZW51IGRpdlwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHRcdCQoXCIubmFjY3MgdWwgbGlcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG5cdFx0JCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHRcdCQoXCIubmFjY3MgdWxcIikuZmluZChcImxpOmVxKFwiICsgbnVtYmVySW5kZXggKyBcIilcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG5cdFx0dmFyIGxpc3RJdGVtSGVpZ2h0ID0gJChcIi5uYWNjcyB1bFwiKVxyXG5cdFx0XHQuZmluZChcImxpOmVxKFwiICsgbnVtYmVySW5kZXggKyBcIilcIilcclxuXHRcdFx0LmlubmVySGVpZ2h0KCk7XHJcblx0XHQkKFwiLm5hY2NzIHVsXCIpLmhlaWdodChsaXN0SXRlbUhlaWdodCArIFwicHhcIik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHZhciBzaXplX2xpID0gJChcIi5uYWNjIGxpLmFjdGl2ZSA+IGRpdiA+IC5jb21tZW50LXBhcmVudFwiKS5sZW5ndGg7XHJcbiAgICB2YXIgeD0zO1xyXG4gICAgJCgnLm5hY2MgbGkuYWN0aXZlID4gZGl2ID4gLmNvbW1lbnQtcGFyZW50Omx0KCcreCsnKScpLnNob3coKTtcclxuICAgICQoJyNsb2FkTW9yZScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB4PSAoeCs1IDw9IHNpemVfbGkpID8geCs1IDogc2l6ZV9saTtcclxuICAgICAgICAkKCcubmFjYyBsaS5hY3RpdmUgPiBkaXYgPiAuY29tbWVudC1wYXJlbnQ6bHQoJyt4KycpJykuc2hvdygpOyAgICAgIFxyXG4gICAgICAgIGlmKHggPT0gc2l6ZV9saSl7XHJcbiAgICAgICAgICAgIC8vICAkKCcjbG9hZE1vcmUnKS5oaWRlKCk7XHJcbiAgICAgICAgfSAgICBcclxuICAgIH0pO1xyXG5cclxufSk7XHJcblxyXG5pZigkKHdpbmRvdykud2lkdGgoKSA8IDk5Mikge1xyXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5uYWNjcyAubWVudSBkaXZcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6ICQoJCh0aGlzKS5hdHRyKCdkYXRhLXNjcm9sbCcpKS5vZmZzZXQoKS50b3B9LCA1MDAsICdsaW5lYXInKTtcclxuICAgIH0pO1xyXG59XHJcbiAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCl7XHJcbiAgICBpZigkKHdpbmRvdykud2lkdGgoKSA+IDk5Mil7XHJcbiAgICAgICAgJCgnLmJsLXBvc3Q6Zmlyc3QtY2hpbGQnKS5yZW1vdmVDbGFzcygnY29sLWxnLTQnKS5hZGRDbGFzcygnY29sLTgnKTtcclxuICAgICAgICAkKCcuYmwtcG9zdDpmaXJzdC1jaGlsZCcpLmNzcyh7XHJcbiAgICAgICAgICAgIFwiaGVpZ2h0XCI6ICgkKCcuYmwtcG9zdDpsYXN0LWNoaWxkJykuaGVpZ2h0KCkpICogMiArIDI0ICsgJ3B4J1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmlmKCQod2luZG93KS53aWR0aCgpID4gOTkyKXtcclxuICAgICQoJy5ibC1wb3N0OmZpcnN0LWNoaWxkJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00JykuYWRkQ2xhc3MoJ2NvbC04Jyk7XHJcbiAgICAkKCcuYmwtcG9zdDpmaXJzdC1jaGlsZCcpLmNzcyh7XHJcbiAgICAgICAgXCJoZWlnaHRcIjogKCQoJy5ibC1wb3N0Omxhc3QtY2hpbGQnKS5oZWlnaHQoKSkgKiAyICsgMjQgKyAncHgnXHJcbiAgICB9KTtcclxufVxyXG5cclxuICAgICQoJyNwcm9jZW50LXByb2dyZXNzJykucHJlcGVuZCgkKCcucHJvZ3Jlc3MtbWFpbicpLmF0dHIoJ3ZhbHVlJykpO1xyXG4gICAgJCgnLm1hc2snKS5jc3Moe1xyXG4gICAgICAgIFwiaGVpZ2h0XCI6ICQoJy5wcm9ncmFtLWl0ZW0nKS5oZWlnaHQoKSAtICQoJy5oMi1wcm9ncmFtLXRpdGxlJykuaGVpZ2h0KCkgKyAncHgnXHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuZmFsbC1lZmZlY3QnKS5tb3VzZWVudGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoJy5tYXNrJykuY3NzKHtcclxuICAgICAgICAgICAgXCJ0b3BcIjogJCgnLmgyLXByb2dyYW0tdGl0bGUnKS5oZWlnaHQoKSArICdweCdcclxuICAgICAgICB9KTtcclxuICAgIH0pLm1vdXNlbGVhdmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZCgnLm1hc2snKS5jc3Moe1xyXG4gICAgICAgICAgICBcInRvcFwiOiBcIjBcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLm5hdl93cmFwcGVyJykuY3NzKHtcclxuICAgICAgICAnbWFyZ2luLXRvcCc6ICQoJy5oZWFkZXItaW5mby1saW5lJykuaGVpZ2h0KCkgKyAyMCArICdweCdcclxuICAgIH0pO1xyXG5cclxuICAgICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJy5uYXZfd3JhcHBlcicpLmNzcyh7XHJcbiAgICAgICAgICAgICdtYXJnaW4tdG9wJzogJCgnLmhlYWRlci1pbmZvLWxpbmUnKS5oZWlnaHQoKSArIDIwICsgJ3B4J1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI2ZpeC1tZW51LXBhZGRpbmcnKS5jc3Moe1xyXG4gICAgICAgIFwicGFkZGluZy1ib3R0b21cIjogKCQoJy5uYXZfd3JhcHBlcicpLmhlaWdodCgpICogMikgKyAkKCcuaGVhZGVyLWluZm8tbGluZScpLmhlaWdodCgpIC0gMTAgKyAncHgnXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcclxuICAgICAgICAkKCcjZml4LW1lbnUtcGFkZGluZycpLmNzcyh7XHJcbiAgICAgICAgICAgIFwicGFkZGluZy1ib3R0b21cIjogJCgnLm5hdl93cmFwcGVyJykuaGVpZ2h0KCkgKiAyICsgJ3B4J1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgICQoXCJ1bCBsaTpoYXModWwpXCIpLmFkZENsYXNzKFwiaGFzLXN1Ym1lbnVcIik7XHJcbiAgICAkKFwidWwgbGkgdWxcIikuYWRkQ2xhc3MoXCJzdWItbWVudVwiKTtcclxuICAgICQoXCJ1bC5kcm9wZG93biBsaVwiKS5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImhvdmVyXCIpXHJcbiAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImhvdmVyXCIpXHJcbiAgICB9KTtcclxuICAgIHZhciAkbWVudSA9ICQoXCIjbWVudVwiKSwgJG1lbnVsaW5rID0gJChcIiNzcGlubmVyLWZvcm1cIiksICRzZWFyY2ggPSAkKFwiI3NlYXJjaFwiKSwgJHNlYXJjaF9ib3ggPSAkKFwiLnNlYXJjaF9ib3hcIiksXHJcbiAgICAgICAgJG1lbnVUcmlnZ2VyID0gJChcIi5oYXMtc3VibWVudSA+IGFcIik7XHJcbiAgICAkbWVudWxpbmsuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAkbWVudWxpbmsudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJG1lbnUudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgaWYgKCRzZWFyY2guaGFzQ2xhc3MoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgJChcIi5tZW51LmFjdGl2ZVwiKS5jc3MoXCJwYWRkaW5nLXRvcFwiLCBcIjUwcHhcIilcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICRzZWFyY2guY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgJHNlYXJjaF9ib3gudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIilcclxuICAgIH0pO1xyXG4gICAgJG1lbnVUcmlnZ2VyLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciB0ID0gJCh0aGlzKTtcclxuICAgICAgICB0LnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpLm5leHQoXCJ1bFwiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKVxyXG4gICAgfSk7XHJcbiAgICAkKFwidWwgbGk6aGFzKHVsKVwiKTtcclxuICAgICQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgdmFyIHQgPSAkKFwiLm5hdl93cmFwcGVyXCIpLm91dGVySGVpZ2h0KCk7XHJcbiAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBuID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgICAgIGlmICgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+PSA1MCkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5uYXZfd3JhcHBlclwiKS5jc3MoXCJwb3NpdGlvblwiLCBcImZpeGVkXCIpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLm5hdl93cmFwcGVyXCIpLmNzcyhcInBvc2l0aW9uXCIsIFwiZml4ZWRcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobiA+IHQpIHtcclxuICAgICAgICAgICAgICAgICQoXCIubmF2X3dyYXBwZXJcIikuYWRkQ2xhc3MoXCJzY3JvbGxcIilcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoXCIubmF2X3dyYXBwZXJcIikucmVtb3ZlQ2xhc3MoXCJzY3JvbGxcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobiA+IGUpIHtcclxuICAgICAgICAgICAgICAgICQoXCIubmF2X3dyYXBwZXJcIikucmVtb3ZlQ2xhc3MoXCJuby1zY3JvbGxcIilcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoXCIubmF2X3dyYXBwZXJcIikuYWRkQ2xhc3MoXCJuby1zY3JvbGxcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKClcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiQoJy5zbGlkZXItd3JhcCcpLnNsaWNrKHtcclxuICAgIGRvdHM6IGZhbHNlLFxyXG4gICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICBzcGVlZDogNzAwLFxyXG4gICAgZmFkZTogdHJ1ZSxcclxuICAgIGFycm93czogdHJ1ZSxcclxuICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgbmV4dEFycm93OiAnPGltZyBjbGFzcz1cInNsaWNrLW5leHQgc2xpY2stYXJyb3dcIiBzcmM9XCJhc3NldHMvaW1nL3JpZ2h0LWFycm93LnBuZ1wiIC8+JyxcclxuICAgIHByZXZBcnJvdzogJzxpbWcgY2xhc3M9XCJzbGljay1wcmV2IHNsaWNrLWFycm93XCIgc3JjPVwiYXNzZXRzL2ltZy9sZWZ0LWFycm93LnBuZ1wiIC8+JyxcclxuICAgIGNzc0Vhc2U6ICdsaW5lYXInLFxyXG4gICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxyXG4gICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG59KTtcclxuXHJcbnZhciBzbGlja1BhcmFtZXRlcnMgPSB7XHJcbiAgICBkb3RzOiBmYWxzZSxcclxuICAgIGFycm93czogZmFsc2UsXHJcbiAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICBpbmZpbml0ZTogdHJ1ZSxcclxuICAgIHNwZWVkOiAxMDAwLFxyXG4gICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgIGZvY3VzT25TZWxlY3Q6IHRydWVcclxufTtcclxuXHJcbi8vdGFiIDFcclxuZnVuY3Rpb24gc2xpY2tVbnNsaWNrdGFiMSgpIHtcclxuICAgIHZhciB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xyXG4gICAgaWYgKHdpbmRvd1dpZHRoIDwgOTkyKSB7XHJcbiAgICAgICAgaWYgKCEkKCcuYWxsLXBvc3RzLWNvbnRhaW5lcicpLmhhc0NsYXNzKCdzbGljay1zbGlkZXInKSkge1xyXG4gICAgICAgICAgICAkKCcuYWxsLXBvc3RzLWNvbnRhaW5lcicpLnNsaWNrKHNsaWNrUGFyYW1ldGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoJCgnLmFsbC1wb3N0cy1jb250YWluZXInKS5oYXNDbGFzcygnc2xpY2stc2xpZGVyJykpIHtcclxuICAgICAgICAgICAgJCgnLmFsbC1wb3N0cy1jb250YWluZXInKS5zbGljaygndW5zbGljaycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5zbGlja1Vuc2xpY2t0YWIxKCk7XHJcbi8vZW5kIHRhYjFcclxuXHJcbmZ1bmN0aW9uIHNsaWNrVW5zbGlja0NhdGVnb3J5KCkge1xyXG4gICAgdmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XHJcbiAgICBpZiAod2luZG93V2lkdGggPCA5OTIpIHtcclxuICAgICAgICBpZiAoISQoJy5jb3Vyc2VzLXdyYXBwZXInKS5oYXNDbGFzcygnc2xpY2stc2xpZGVyJykpIHtcclxuICAgICAgICAgICAgJCgnLmNvdXJzZXMtd3JhcHBlcicpLnNsaWNrKHNsaWNrUGFyYW1ldGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoJCgnLmNvdXJzZXMtd3JhcHBlcicpLmhhc0NsYXNzKCdzbGljay1zbGlkZXInKSkge1xyXG4gICAgICAgICAgICAkKCcuY291cnNlcy13cmFwcGVyJykuc2xpY2soJ3Vuc2xpY2snKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuc2xpY2tVbnNsaWNrQ2F0ZWdvcnkoKTtcclxuXHJcbmZ1bmN0aW9uIHNsaWNrVW5zbGlja0Jsb2dQb3N0cygpIHtcclxuICAgIHZhciB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xyXG4gICAgaWYgKHdpbmRvd1dpZHRoIDwgOTkyKSB7XHJcbiAgICAgICAgaWYgKCEkKCcuYWxsLXBvc3RzLWNvbnRhaW5lcicpLmhhc0NsYXNzKCdzbGljay1zbGlkZXInKSkge1xyXG4gICAgICAgICAgICAkKCcuYWxsLXBvc3RzLWNvbnRhaW5lcicpLnNsaWNrKHNsaWNrUGFyYW1ldGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoJCgnLmFsbC1wb3N0cy1jb250YWluZXInKS5oYXNDbGFzcygnc2xpY2stc2xpZGVyJykpIHtcclxuICAgICAgICAgICAgJCgnLmFsbC1wb3N0cy1jb250YWluZXInKS5zbGljaygndW5zbGljaycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5zbGlja1Vuc2xpY2tCbG9nUG9zdHMoKTtcclxuXHJcbmlmKCQoJy5jb3Vyc2VzLXdyYXBwZXInKS5oYXNDbGFzcygndW5jbGljay1zbGlkZXItZXZlbnQnKSkge1xyXG4gICAgaWYgKCQoJy5jb3Vyc2VzLXdyYXBwZXInKS5oYXNDbGFzcygnc2xpY2stc2xpZGVyJykpIHtcclxuICAgICAgICAkKCcuY291cnNlcy13cmFwcGVyJykuc2xpY2soJ3Vuc2xpY2snKTsgICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzbGlja1Vuc2xpY2tQcm9ncmFtcygpIHtcclxuICAgIHZhciB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xyXG4gICAgaWYgKHdpbmRvd1dpZHRoIDwgOTkyKSB7XHJcbiAgICAgICAgaWYgKCEkKCcucHJvZ3JhbXMtd3JhcHBlcicpLmhhc0NsYXNzKCdzbGljay1zbGlkZXInKSkge1xyXG4gICAgICAgICAgICAkKCcucHJvZ3JhbXMtd3JhcHBlcicpLnNsaWNrKHNsaWNrUGFyYW1ldGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoJCgnLnByb2dyYW1zLXdyYXBwZXInKS5oYXNDbGFzcygnc2xpY2stc2xpZGVyJykpIHtcclxuICAgICAgICAgICAgJCgnLnByb2dyYW1zLXdyYXBwZXInKS5zbGljaygndW5zbGljaycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5zbGlja1Vuc2xpY2tQcm9ncmFtcygpO1xyXG5cclxuZnVuY3Rpb24gc2xpY2tVbnNsaWNrUG9zdHMoKSB7XHJcbiAgICB2YXIgd2luZG93V2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcclxuICAgIGlmICh3aW5kb3dXaWR0aCA8IDk5Mikge1xyXG4gICAgICAgIGlmICghJCgnLnJlY2VudC1zbGlkZXItbW9iJykuaGFzQ2xhc3MoJ3NsaWNrLXNsaWRlcicpKSB7XHJcbiAgICAgICAgICAgICQoJy5yZWNlbnQtc2xpZGVyLW1vYicpLnNsaWNrKHNsaWNrUGFyYW1ldGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoJCgnLnJlY2VudC1zbGlkZXItbW9iJykuaGFzQ2xhc3MoJ3NsaWNrLXNsaWRlcicpKSB7XHJcbiAgICAgICAgICAgICQoJy5yZWNlbnQtc2xpZGVyLW1vYicpLnNsaWNrKCd1bnNsaWNrJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbnNsaWNrVW5zbGlja1Bvc3RzKCk7XHJcbnZhciBhY2NvcmRpb24gPSAoZnVuY3Rpb24oKXsgIFxyXG4gICAgdmFyICRhY2NvcmRpb24gPSAkKCcuanMtYWNjb3JkaW9uJyk7XHJcbiAgICB2YXIgJGFjY29yZGlvbl9oZWFkZXIgPSAkYWNjb3JkaW9uLmZpbmQoJy5qcy1hY2NvcmRpb24taGVhZGVyJyk7XHJcbiAgICB2YXIgJGFjY29yZGlvbl9pdGVtID0gJCgnLmpzLWFjY29yZGlvbi1pdGVtJyk7ICAgXHJcbiAgICB2YXIgc2V0dGluZ3MgPSB7ICAgXHJcbiAgICAgIHNwZWVkOiA0MDAsXHJcbiAgICAgIG9uZU9wZW46IGZhbHNlXHJcbiAgICB9O1xyXG4gICAgICBcclxuICAgIHJldHVybiB7ICAgICAgXHJcbiAgICAgIGluaXQ6IGZ1bmN0aW9uKCRzZXR0aW5ncykge1xyXG4gICAgICAgICRhY2NvcmRpb25faGVhZGVyLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgeyBcclxuICAgICAgICAgIGFjY29yZGlvbi50b2dnbGUoJCh0aGlzKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJC5leHRlbmQoc2V0dGluZ3MsICRzZXR0aW5ncyk7IFxyXG4gICAgICAgIGlmKHNldHRpbmdzLm9uZU9wZW4gJiYgJCgnLmpzLWFjY29yZGlvbi1pdGVtLmFjdGl2ZScpLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICQoJy5qcy1hY2NvcmRpb24taXRlbS5hY3RpdmU6bm90KDpmaXJzdCknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICQoJy5qcy1hY2NvcmRpb24taXRlbS5hY3RpdmUnKS5maW5kKCc+IC5qcy1hY2NvcmRpb24tYm9keScpLnNob3coKTtcclxuICAgICAgfSxcclxuICAgICAgdG9nZ2xlOiBmdW5jdGlvbigkdGhpcykge1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgIGlmKHNldHRpbmdzLm9uZU9wZW4gJiYgJHRoaXNbMF0gIT0gJHRoaXMuY2xvc2VzdCgnLmpzLWFjY29yZGlvbicpLmZpbmQoJz4gLmpzLWFjY29yZGlvbi1pdGVtLmFjdGl2ZSA+IC5qcy1hY2NvcmRpb24taGVhZGVyJylbMF0pIHtcclxuICAgICAgICAgICR0aGlzLmNsb3Nlc3QoJy5qcy1hY2NvcmRpb24nKVxyXG4gICAgICAgICAgICAgICAgIC5maW5kKCc+IC5qcy1hY2NvcmRpb24taXRlbScpIFxyXG4gICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAuZmluZCgnLmpzLWFjY29yZGlvbi1ib2R5JylcclxuICAgICAgICAgICAgICAgICAuc2xpZGVVcCgpXHJcbiAgICAgICAgfSAgICAgICBcclxuICAgICAgIFxyXG4gICAgICAgICR0aGlzLmNsb3Nlc3QoJy5qcy1hY2NvcmRpb24taXRlbScpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAkdGhpcy5uZXh0KCkuc3RvcCgpLnNsaWRlVG9nZ2xlKHNldHRpbmdzLnNwZWVkKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG59KShqUXVlcnkpO1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICAgIGFjY29yZGlvbi5pbml0KHsgc3BlZWQ6IDMwMCwgb25lT3BlbjogdHJ1ZSB9KTtcclxuICB9KTtcclxuXHJcbi8vIEluaXQgQU9TXHJcbkFPUy5pbml0KCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbn0pKGpRdWVyeSk7Il19
